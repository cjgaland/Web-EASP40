:root {
  --bg: #0f1412;
  --bg2: #1a221d;
  --text: #f8f9fa;
  --primary: #2f6f3e;
  --secondary: #8fbf88;
  --muted: #a9b2a7;
  --shadow: 0 0 40px rgba(0,0,0,0.4);
  --radius: 28px;

  /* Layout de presentación */
  --navh: 76px;        /* altura barra superior */
  --stage-pad: 24px;   /* padding interno del escenario */
}

/* ===== Reseteo y fondo ===== */
* { box-sizing: border-box }
html, body { height: 100%; overflow: hidden; } /* sin scroll */
body{
  margin:0;
  font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--text);
  background:
    radial-gradient(1200px 800px at 20% 10%, #162019 0%, transparent 60%),
    radial-gradient(1200px 800px at 80% 90%, #0b120e 0%, transparent 60%),
    linear-gradient(160deg, var(--bg), var(--bg2));
}

/* ===== Navbar fija ===== */
.navbar{
  position: fixed; left:0; right:0; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  gap:16px; padding:10px 24px; height: var(--navh);
  background: rgba(255,255,255,.04);
  backdrop-filter: blur(6px);
  box-shadow: 0 2px 16px rgba(0,0,0,.25);
}
.navbar img{height:56px; border-radius:10px; box-shadow:var(--shadow); background:#fff}

nav a{
  color:var(--secondary); text-decoration:none; font-weight:700;
  padding:6px 10px; border-radius:10px;
  font-size: clamp(16px, 2.2vw, 24px);
}
nav a:hover, nav a.active{ color:var(--text); background:rgba(143,191,136,.18)}

/* ===== Escena a pantalla completa (11:9-friendly) ===== */
.slide{
  position: absolute;
  left: 0; right: 0;
  top: var(--navh);
  height: calc(100svh - var(--navh));   /* escena útil */
  padding: var(--stage-pad);
  display: grid;
  grid-template-rows: auto 1fr;         /* Título arriba + contenido centrado */
  gap: min(2vh, 18px);
  text-align: center;
  background: transparent;              /* sin tarjeta */
  border: none; box-shadow: none;
}

/* Contenedor para centrar vertical y horizontalmente el contenido */
.stage-content{
  display: grid;
  place-items: center;
  height: 100%;
}

/* Títulos muy grandes, centrados arriba en verde */
.slide h1{
  color: var(--secondary);
  margin: 0;
  font-size: clamp(38px, 6.2vw, 84px);
  line-height: 1.08;
}

/* Texto base adaptado a 11:9 */
.lead{ font-size: clamp(20px, 2.7vw, 30px); color:#e6f1e8; margin:0 }
p{ font-size: clamp(18px, 2.3vw, 26px); color:#f3f6f4; margin:0 }

/* Variante "small" para páginas con mucho contenido */
.slide.small h1{ font-size: clamp(34px, 5.6vw, 72px) }
.slide.small p{ font-size: clamp(16px, 2vw, 22px) }

/* ===== Listado de preguntas, sin scroll (dos columnas) ===== */
.qa{
  list-style:none; padding:0; margin:0 auto;
  max-width: 1400px;
  display:grid; gap:min(1.8vh, 16px);
  grid-template-columns: repeat(2, minmax(0,1fr));
  align-content: center;  /* centrado vertical en la escena */
}
.qa li{
  display:flex; gap:10px; align-items:flex-start;
  padding:12px 14px; border-radius:16px;
  background:rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.06);
  font-size: clamp(16px, 2vw, 22px);
}
.qa li span{
  display:inline-block; min-width:26px; height:26px; line-height:26px;
  text-align:center; border-radius:50%;
  background:rgba(143,191,136,.28); color:#fff; font-weight:800;
}

/* ===== Footer logos (si se usan en alguna slide) ===== */
.logo-final{
  margin-top:18px; height:120px; border-radius:12px;
  box-shadow: var(--shadow); background:#fff; padding:6px
}

/* ===== Impresión (opcional) ===== */
@media print{
  .navbar{display:none}
  html, body{ overflow: visible; height:auto }
  .slide{
    position: static; height:auto;
    box-shadow:none; background:#fff; border:none;
  }
}

/* =========================================================
   GALERÍA AVANZADA: visor 11:9 ajustado y miniaturas visibles
   ========================================================= */
.viewer {
  width: min(90vw, 1600px);
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 14px;
}

/* Visor principal */
.viewport {
  position: relative;
  width: 100%;
  aspect-ratio: 16/9;               /* relación ligeramente más panorámica */
  max-height: calc(100vh - 260px);  /* deja espacio para miniaturas y barra */
  display: flex;
  align-items: center;
  justify-content: center;
  background: #0e1713;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 10px 28px rgba(0,0,0,.35);
}

/* Imagen o vídeo centrados sin desbordar */
.viewport img,
.viewport video {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  border-radius: 8px;
  transition: opacity .4s ease-in-out;
}

/* Controles de navegación */
.nav {
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  background: rgba(0,0,0,.35);
  border: 1px solid rgba(255,255,255,.2);
  color: #fff;
  font-weight:900;
  font-size: 32px;
  width: 48px; height: 64px;
  border-radius: 14px;
  cursor:pointer;
  z-index: 2;
}
.nav:hover { background: rgba(0,0,0,.55) }
.prev { left: 10px }
.next { right: 10px }

/* Contador */
.counter {
  position:absolute;
  right:10px; bottom:8px;
  background: rgba(0,0,0,.4);
  color:#fff;
  padding: 6px 10px;
  border-radius: 10px;
  font-size: 14px;
}

/* Miniaturas: más pequeñas y visibles siempre */
.thumbs {
  width: 100%;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(80px,1fr));
  gap: 8px;
  justify-content: center;
  align-items: center;
  overflow-x: auto;
  padding: 8px 0;
  scrollbar-width: thin;
}
.thumb {
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.06);
  border-radius: 10px;
  overflow: hidden;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,.2);
  transition: transform .2s ease-in-out;
}
.thumb:hover { transform: scale(1.05); }
.thumb img {
  display: block;
  width: 100%;
  height: 70px;
  object-fit: cover;
}
.thumb-video {
  display: grid;
  place-items: center;
  height: 70px;
  font-size: 26px;
  color: #fff;
  background: rgba(0,0,0,.45);
}
.thumb.active { outline: 3px solid var(--secondary); }

/* CTA de sonido y error box */
.sound-cta {
  position: absolute;
  left: 50%; top: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0,0,0,.55);
  color: #fff;
  border: 2px solid rgba(255,255,255,.8);
  border-radius: 14px;
  padding: 12px 16px;
  font-size: clamp(14px,2vw,20px);
  font-weight: 800;
  cursor: pointer;
  box-shadow: 0 10px 28px rgba(0,0,0,.35);
}
.sound-cta:hover { background: rgba(0,0,0,.75); }

.video-error {
  padding: 16px;
  color: #ffd7d7;
  background: rgba(176,42,55,.15);
  border: 1px solid rgba(176,42,55,.35);
  border-radius: 12px;
  text-align: center;
  max-width: 90%;
}


/* CTA para activar sonido del vídeo */
.sound-cta{
  position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
  background: rgba(0,0,0,.55); color:#fff;
  border:2px solid rgba(255,255,255,.8); border-radius:14px;
  padding:12px 16px;
  font-size: clamp(14px,2vw,20px); font-weight:800; cursor:pointer;
  box-shadow: 0 10px 28px rgba(0,0,0,.35);
}
.sound-cta:hover{ background: rgba(0,0,0,.75) }

/* ===== Portada minimalista mejor equilibrada ===== */
.simplebar {
  justify-content: center;
  background: rgba(255,255,255,.04);
  box-shadow: 0 2px 12px rgba(0,0,0,.25);
}
.simplebar nav a {
  font-size: clamp(16px, 2vw, 22px);
}

.hero-block.clean {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: clamp(22px, 3.5vh, 32px);
  text-align: center;
  margin-top: clamp(24px, 3vh, 50px);
}

.hero-logo-40.big {
  width: clamp(300px, 38vw, 460px);
  height: auto;
  border-radius: 14px;
  background: #fff;
  padding: 10px 14px;
  box-shadow: var(--shadow);
  margin-top: clamp(-20px, -2vh, -10px);  /* lo sube ligeramente */
}

.logo-diploma.wide {
  width: clamp(300px, 38vw, 460px);
  height: auto;
  border-radius: 14px;
  background: #fff;
  padding: 10px 14px;
  box-shadow: var(--shadow);
  margin-top: clamp(0, 1vh, 10px);
}

.hero-hr.elegant {
  width: min(60ch, 65%);
  height: 1px;
  border: 0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.25), transparent);
  margin: clamp(14px, 2vh, 24px) auto;
}

.lead-quote.strong-space {
  margin-top: clamp(10px, 2vh, 20px);
  font-size: clamp(24px, 3.6vw, 40px);
  font-weight: 400;
}

.sevive {
  color: var(--secondary);
  font-weight: 800;
}
/* ===== Motor del cambio ===== */
.motor-block{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;     /* centrado vertical del conjunto */
  text-align:center;
  gap: clamp(16px, 2.6vh, 28px);
  /* No fuerces height:100% aquí; deja que el bloque se ajuste */
}

.motor-img{
  /* Ancho grande pero controlado */
  width: clamp(520px, 62vw, 980px);
  height:auto;
  margin:0 auto;

  /* TOPE DE ALTURA DINÁMICO:
     deja sitio para: navbar, título, separación, HR y texto */
  max-height: calc(100svh - var(--navh) - 240px);

  /* Estética */
  filter: brightness(0.96) saturate(0.9) drop-shadow(0 0 35px rgba(0,0,0,.35));
  opacity: .96;
  transition: transform .6s ease, opacity .4s ease;
}
.motor-img:hover{ transform:scale(1.02); opacity:1 }

.hero-hr.elegant{
  width: min(70ch, 70%);
  height:1px; border:0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.25), transparent);
  margin: clamp(10px, 1.6vh, 18px) auto;
}

.motor-text{
  max-width: 900px;
  margin: 0 auto;
  font-size: clamp(20px, 2.2vw, 30px);
  line-height: 1.55;
  color: var(--text);
  text-wrap: balance;
}

.green{ color:var(--secondary); font-weight:800 }

/* ===== Frases de Calidad y Seguridad ===== */
.frases-calidad-seguridad {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: clamp(14px, 2.2vh, 20px);
  margin-top: clamp(16px, 4vh, 30px);
  text-align: center;
}

/* Frases principales */
.lead-quote.unified {
  position: relative;
  margin: 0;
  font-size: clamp(22px, 2.6vw, 34px);  /* más compacto */
  font-weight: 300;
  color: rgba(255, 255, 255, 0.94);
  font-style: italic;
  line-height: 1.3;
  text-wrap: balance;
  max-width: min(92%, 1000px);
  padding-left: clamp(30px, 3vw, 50px); /* menos separación lateral */
  display: inline-block;
  white-space: nowrap; /* evita salto de línea */
}

/* Comillas verdes translúcidas, más cercanas */
.lead-quote.unified::before {
  content: "\201C";  /* Comilla de apertura tipográfica " */
  position: absolute;
  left: 0;
  top: -4px;
  font-size: clamp(46px, 5.5vw, 64px); /* más pequeñas */
  line-height: 1;
  color: rgba(143, 191, 136, 0.22); /* verde institucional translúcido */
  font-family: Georgia, 'Times New Roman', serif;
  font-weight: 900;
  pointer-events: none;
  user-select: none;
  text-shadow: 0 0 8px rgba(47, 111, 62, 0.15);
}

/* Palabras clave en verde */
.lead-quote.unified .sevive {
  color: var(--secondary);
  font-weight: 700;
  font-style: normal;
}

/* Línea separadora */
.hero-hr.elegant {
  width: min(50ch, 55%);
  height: 1px;
  border: 0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.25), transparent);
  margin: clamp(6px, 1.5vh, 10px) auto;
}

/* ===== Ajuste responsive ===== */
@media (max-width: 900px) {
  .lead-quote.unified {
    font-size: clamp(18px, 2.8vw, 26px);
    padding-left: clamp(24px, 2.5vw, 40px);
    white-space: normal; /* permite salto si es necesario en móvil */
  }
  .lead-quote.unified::before {
    font-size: clamp(40px, 6vw, 56px);
  }
}
/* =========================================================
   Animación sutil para las frases — estilo "fade-up-in"
   ========================================================= */
@keyframes fadeUp {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Contenedor general: aplica la animación secuencial */
.frases-calidad-seguridad {
  animation: fadeUp 1.5s ease-out forwards;
}

/* Primera frase: aparece primero */
.frases-calidad-seguridad .lead-quote.unified:first-of-type {
  opacity: 0;
  animation: fadeUp 1.4s ease-out 0.2s forwards;
}

/* Línea separadora */
.frases-calidad-seguridad .hero-hr.elegant {
  opacity: 0;
  animation: fadeUp 1.2s ease-out 0.8s forwards;
}

/* Segunda frase: aparece un poco después */
.frases-calidad-seguridad .lead-quote.unified:last-of-type {
  opacity: 0;
  animation: fadeUp 1.4s ease-out 1.2s forwards;
}
/* Animaciones suaves para motor.html */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(18px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes zoomInSoft {
  from { opacity: 0; transform: scale(0.985); }
  to   { opacity: 1; transform: scale(1); }
}

/* Utilidades */
.reveal     { opacity: 0; animation-fill-mode: forwards; }
.fade-up    { animation-name: fadeUp; animation-duration: 900ms; animation-timing-function: ease-out; }
.zoom-soft  { animation-name: zoomInSoft; animation-duration: 1100ms; animation-timing-function: ease-out; }

/* Pequeños escalonados */
.d0 { animation-delay: 0.25s; }
.d1 { animation-delay: .30s; }
.d2 { animation-delay: .55s; }
.d3 { animation-delay: .80s; }
.d4 { animation-delay: 1.05s; }

/* Respeto a usuarios con reducción de movimiento */
@media (prefers-reduced-motion: reduce) {
  .reveal, .fade-up, .zoom-soft {
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
  }
}
/* Unifica tamaño de frases grandes tipo "reflexión" */
.lead.big {
  font-size: clamp(24px, 3.6vw, 40px);
  line-height: 1.4;
  font-weight: 400;
  color: #f3f6f4;
}

/* =========================================================
   ADAPTACIÓN PARA DISPOSITIVOS MÓVILES
   ========================================================= */

@media (max-width: 768px) {
  
  /* === NAVBAR MÓVIL === */
  .navbar {
    height: auto;
    min-height: 60px;
    padding: 8px 12px;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
  }
  
  .navbar img {
    height: 44px;
    margin-bottom: 6px;
  }
  
  nav {
    width: 100%;
    display: flex;
    justify-content: space-around;
    align-items: center;
    flex-wrap: wrap;
    gap: 4px;
  }
  
  nav a {
    font-size: 13px;
    padding: 5px 8px;
    white-space: nowrap;
  }
  
  /* === AJUSTE DE ALTURA DE ESCENA === */
  :root {
    --navh: 100px; /* navbar más alta en móvil */
  }
  
  .slide {
    padding: 16px 12px;
    gap: 12px;
  }
  
  /* === TÍTULOS MÓVILES === */
  .slide h1 {
    font-size: clamp(28px, 8vw, 42px);
    line-height: 1.15;
  }
  
  .slide.small h1 {
    font-size: clamp(24px, 7vw, 36px);
  }
  
  /* === TEXTOS BASE === */
  .lead {
    font-size: clamp(16px, 4.5vw, 22px);
  }
  
  p {
    font-size: clamp(15px, 4vw, 20px);
  }
  
  .slide.small p {
    font-size: clamp(14px, 3.8vw, 18px);
  }
  
  /* === PORTADA (INDEX.HTML) === */
  .hero-block.clean {
    gap: clamp(16px, 3vh, 24px);
    margin-top: clamp(12px, 2vh, 20px);
  }
  
  .hero-logo-40.big {
    width: clamp(200px, 65vw, 320px);
    padding: 8px 10px;
    margin-top: 0;
  }
  
  .logo-diploma.wide {
    width: clamp(200px, 65vw, 320px);
    padding: 8px 10px;
    margin-top: 0;
  }
  
  .hero-hr.elegant {
    width: 80%;
  }
  
  /* === FRASES DE CALIDAD Y SEGURIDAD === */
  .frases-calidad-seguridad {
    gap: clamp(12px, 2vh, 18px);
    margin-top: clamp(12px, 3vh, 24px);
  }
  
  .lead-quote.unified {
    font-size: clamp(16px, 4.2vw, 24px);
    padding-left: clamp(20px, 4vw, 30px);
    white-space: normal;
  }
  
  .lead-quote.unified::before {
    font-size: clamp(32px, 7vw, 48px);
    top: -2px;
  }
  
  /* === MOTOR DEL CAMBIO === */
  .motor-block {
    gap: clamp(10px, 2vh, 16px);
  }
  
  .motor-img {
    width: clamp(240px, 75vw, 420px);
    max-height: calc(100svh - var(--navh) - 180px);
  }
  
  .motor-text {
    font-size: clamp(16px, 4vw, 22px);
  }
  
  /* === FÓRMULA === */
  .formula-img {
    width: clamp(280px, 80vw, 500px);
    max-height: 35vh;
  }
  
  /* === EQUIPO === */
  .equipo-img {
    width: clamp(280px, 80vw, 500px);
    max-height: 35vh;
  }
  
  .lead.big {
    font-size: clamp(18px, 4.5vw, 28px);
    margin-top: clamp(12px, 2vh, 20px);
  }
  
  /* === LISTA DE PREGUNTAS - 1 COLUMNA === */
  .qa {
    grid-template-columns: 1fr; /* UNA sola columna en móvil */
    gap: 12px;
    max-width: 100%;
  }
  
  .qa li {
    padding: 10px 12px;
    font-size: clamp(14px, 3.8vw, 18px);
  }
  
  .qa li span {
    min-width: 24px;
    height: 24px;
    line-height: 24px;
    font-size: 14px;
  }
  
  /* === GALERÍA === */
  .viewer {
    width: 95vw;
    gap: 10px;
  }
  
  .viewport {
    aspect-ratio: 4/3; /* Más cuadrado en móvil */
    max-height: calc(100vh - 220px);
    border-radius: 12px;
  }
  
  /* Controles de navegación más pequeños */
  .nav {
    width: 40px;
    height: 52px;
    font-size: 28px;
    border-radius: 10px;
  }
  
  .prev { left: 6px; }
  .next { right: 6px; }
  
  .counter {
    font-size: 12px;
    padding: 4px 8px;
    right: 6px;
    bottom: 6px;
  }
  
  /* Miniaturas más pequeñas */
  .thumbs {
    grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
    gap: 6px;
    padding: 6px 0;
  }
  
  .thumb img,
  .thumb-video {
    height: 50px;
  }
  
  .thumb-video {
    font-size: 20px;
  }
  
  /* === PÁGINA INDIVIDUAL DE PREGUNTA === */
  .qtag {
    left: 12px !important;
    top: 8px !important;
    padding: 6px 10px !important;
    font-size: clamp(13px, 3.5vw, 16px) !important;
  }
  
  .motor-block .icon-qs {
    width: clamp(120px, 35vw, 180px);
    margin-bottom: clamp(20px, 4vh, 36px) !important;
  }
  
  .motor-block .ctx-top {
    max-width: 95%;
    font-size: clamp(20px, 5vw, 32px) !important;
    line-height: 1.4 !important;
    margin-bottom: clamp(20px, 3vh, 32px) !important;
  }
  
  .linea-principal {
    font-size: clamp(22px, 5.5vw, 34px) !important;
  }
  
  .linea-secundaria {
    font-size: clamp(16px, 4vw, 22px) !important;
    margin-top: 6px;
  }
  
  .motor-block .divider {
    width: 75%;
    margin: clamp(14px, 2vh, 20px) auto !important;
  }
  
  .motor-block .ctx-bottom {
    max-width: 95%;
    font-size: clamp(18px, 4.8vw, 28px) !important;
    line-height: 1.35 !important;
    margin-top: clamp(8px, 1.5vh, 14px) !important;
  }
  
  /* Flechas de navegación - Ocultar en móvil */
  .arrows {
    display: none;
  }
  
  /* === LOGO FINAL (CIERRE) === */
  .logo-final {
    height: 80px;
    margin-top: 12px;
  }
  
  /* === AJUSTES GENERALES === */
  .sound-cta {
    font-size: clamp(12px, 3.5vw, 16px);
    padding: 10px 14px;
  }
  
  .video-error {
    padding: 12px;
    font-size: 14px;
  }
  
  /* Asegurar que SVGs se ajusten */
  svg {
    max-width: 100%;
    height: auto;
  }
  
  /* Desactivar hover effects en móvil */
  .motor-img:hover,
  .equipo-img:hover,
  .thumb:hover {
    transform: none;
  }
}

/* === MÓVILES MUY PEQUEÑOS (< 380px) === */
@media (max-width: 380px) {
  nav a {
    font-size: 11px;
    padding: 4px 6px;
  }
  
  .slide h1 {
    font-size: clamp(24px, 7vw, 32px);
  }
  
  .hero-logo-40.big,
  .logo-diploma.wide {
    width: clamp(180px, 70vw, 260px);
  }
  
  .qa li {
    font-size: 13px;
  }
  
  .lead-quote.unified {
    font-size: clamp(14px, 4vw, 20px);
    padding-left: 18px;
  }
}
